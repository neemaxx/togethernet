<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- import JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- import font awesome -->
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>

    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="style.css" />

    <script>
        $(document).ready(function() {
            $("#_infoToggle").click(function() {
                $("#infoToggleIcon").toggleClass("fas fa-eye fas fa-eye-slash");
                $(".overlay").toggle();

                if (
                    $(".publicMsg").is(":visible") == false ||
                    $(".privateMsg").is(":visible") == true
                ) {
                    $(".overlay").text(
                        "p2p mode does not store any messages on the server."
                    );
                }
                if (
                    $(".publicMsg").is(":visible") == true &&
                    $(".privateMsg").is(":visible") == false
                ) {
                    $(".overlay").text(
                        "archival mode automatically pushes messages to the server."
                    );
                }
            });
            $("#_privacyToggle").click(function() {
                $("#privacyToggleIcon").toggleClass(
                    "fas fa-upload fas fa-people-arrows"
                );
                // reset toggle button styling
                $('#_privacyToggle').css('border', '1px solid black');

                if (
                    $(".publicMsg").is(":visible") == false ||
                    $(".privateMsg").is(":visible") == false
                ) {
                    $(".privateMsg").toggle();
                    $(".publicMsg").toggle();
                }
                if (
                    $(".publicMsg").is(":visible") == true &&
                    $(".privateMsg").is(":visible") == true
                ) {
                    $(".publicMsg").toggle();
                }
            });
            $("#_duoToggle").click(function() {
                $("#duoToggleIcon").toggleClass("fas fa-plus fas fa-minus");
                if (
                    $(".privateMsg").is(":visible") == true &&
                    $(".publicMsg").is(":visible") == false
                ) {
                    $(".publicMsg").toggle();
                } else if (
                    $(".publicMsg").is(":visible") == true &&
                    $(".privateMsg").is(":visible") == false
                ) {
                    $(".privateMsg").toggle();
                } else if (
                    $(".publicMsg").is(":visible") == true &&
                    $(".privateMsg").is(":visible") == true
                ) {
                    $(".publicMsg").toggle();
                }
            });
            // under dev alerts
            $("#_recordBtn").click(function() {
                alert("recording feature coming soon");
            });
            $("#_historyToggle").click(function() {
                alert("history feature coming soon");
            });
        });
    </script>
</head>

<body>
  <button id="recordButton">record audio</button>
  <button id="stopRecordButton">stop recording audio</button>
  <audio id="audioPlayer" controls></audio>
  <button id="sendBlob">send blob</button>

    <div class="container">
        <div class="menu row">
            <button type="button" class="btn icon" id="_infoToggle">
      <i
        class="fas fa-eye"
        title="security reminders"
        id="infoToggleIcon"
      ></i>
    </button>
            <button type="button" class="btn icon" id="_privacyToggle">
      <i
        class="fas fa-upload"
        title="p2p/archival mode"
        id="privacyToggleIcon"
      ></i>
    </button>
            <button type="button" class="btn icon" id="_duoToggle">
      <i class="fas fa-plus" title="duo panel" id="duoToggleIcon"></i>
    </button>
            <button type="button" class="btn icon" id="_historyToggle">
      <i class="fas fa-route" title="history" id="historyToggleIcon"></i>
    </button>
            <input type="text" id="_nameInput" name="text" placeholder="Your name" />

        </div>

        <div class="row">
            <div class="overlay" id="_infoToggleIcon"></div>
        </div>

        <div class="row">
            <div class="chat privateMsg" id="privateMsgToggle">
                <div class="col">
                    <div class="messageDiv" id="_privateMsg"></div>
                </div>
            </div>

            <div class="chat publicMsg" id="publicMsgToggle">
                <div class="messageDiv" id="_publicMsg"></div>
            </div>
        </div>

        <div class="sendMessageDiv row">
            <input type="text" id="_messageInput" name="text" placeholder=" Type your message here" />
            <button type="button" class="btn icon" title="send message" id="_sendBtn" name="">
      <i class="fas fa-paper-plane"></i>
    </button>
            <button type="button" class="btn icon" title="record audio" id="_recordBtn" name="">
      <i class="fas fa-microphone-alt"></i>
    </button>
        </div>
    </div>

    <script src="/js/bundle.js"></script>
</body>

</html>
